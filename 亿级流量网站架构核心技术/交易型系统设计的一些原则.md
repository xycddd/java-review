 一. 高并发原则
  1. 服务化：进程内服务->单机远程服务->集群手动注册服务->自动注册和发现服务->服务的分组/隔离/路由->服务治理如限流/黑白名单
  2. 消息队列：处理消息失败，消息重复就收,对于不能容忍失败的业务场景，比如持久化日志需要增加日志和报警，以及防重处理
    - 大流量缓冲：牺牲强一致性保证最终一致性
    - 数据校对：异步场景可能存在数据丢失，可以通过worker进行定期扫描，丢失的进行补偿
  3. 数据闭环
    - 数据异构
    - 数据聚合
    - 前端展示
  4. 缓存银弹：
    - 客户端：
      - 浏览器缓存：如响应头Expires,Cache-control，**适用于实时要求不高的数据**
      - App客户端缓存：js/css等素材提前下发到客户端缓存，app离线地图
    - 客户端网络：
      - 代理服务器开启缓存
    - 广域网：
      - CDN缓存
      - 镜像服务器
      - P2P技术
    - 源站以及源站网络：
      - 接入层缓存：URL重写，一致性哈希，proxy_cache，proxy_cache_lock,share_dict,兜底的策略不应该缓存，否则可能导致用户长时间看到兜底的策略
      - 应用层缓存：tomcat堆内缓存，堆外缓存， local redis cache
      - 分布式缓存：接入层nginx/lua读取local cache/proxy cache->分布式redis集群->tomcat->调用依赖业务获取数据,异步化到redis集群
  5. 并发化
